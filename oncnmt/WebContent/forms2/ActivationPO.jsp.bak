<%@ page language="java" pageEncoding="ISO-8859-1"%>

<%@ taglib uri="http://struts.apache.org/tags-bean" prefix="bean" %>
<%@ taglib uri="http://struts.apache.org/tags-html" prefix="html" %>
<%@ taglib uri="http://struts.apache.org/tags-logic" prefix="logic" %>
<%@ taglib uri="http://struts.apache.org/tags-tiles" prefix="tiles" %>
<%@taglib uri="http://struts.application-servers.com/layout" prefix="layout" %>
<%@ page import="java.util.ArrayList" %>
<%@ page import="com.yourcompany.struts.UtilBean.Profil" %>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html:html lang="true">
  <head>
    <html:base />
    
    <title>activation postpaid</title>
 <layout:skin includeScript="true"/>
 
  
	
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="expires" content="0">    
	<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
	<meta http-equiv="description" content="This is my page">


  </head>
          
  <body onload="verif(document.confirmActivForm);">
    
 <layout:img src="../images/entete2.JPG" width="100%"/>

    <layout:dynMenu config="MainMenu" includeScript="true" left="100" top="100">
   
  <layout:menuItem  key="Mouvements">

<%

ArrayList priv = new ArrayList();
priv= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<priv.size();i++){
Profil profi =(Profil)priv.get(i);

if (profi.getProf().equals("AJOUTER RECEPTION")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>
   
 
     <layout:menuItem key="Réception">
                       <layout:menuItem key="Ajouter réception" page="/afficherecep.do"></layout:menuItem>
                    
     </layout:menuItem>
    
<%break;}} %>
 
     <layout:menuItem key="Packaging">

<%

ArrayList priv1p = new ArrayList();
priv1p= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<priv1p.size();i++){
Profil profi =(Profil)priv1p.get(i);

if (profi.getProf().equals("AJOUTER ORDRE PACKAGING")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>

       
           <layout:menuItem key="Ordre de packaging" page="/package.do"></layout:menuItem>  
           
<%break;}} %>


<%

ArrayList priv2p = new ArrayList();
priv2p= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<priv2p.size();i++){
Profil profi =(Profil)priv2p.get(i);

if (profi.getProf().equals("AJOUTER ENVOI PACKAGING")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>
          
           <layout:menuItem key="Envoie packaging" page="/afficher3.do"></layout:menuItem> 
           
<%break;}} %>


<%

ArrayList priv3p = new ArrayList();
priv3p= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<priv3p.size();i++){
Profil profi =(Profil)priv3p.get(i);

if (profi.getProf().equals("AJOUTER RECEP PACKAGING")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>

           <layout:menuItem key="Reception packaging" page="/afficher4.do"></layout:menuItem>   

<%break;}} %>  

</layout:menuItem>
     
     
     
      <layout:menuItem key="Transfert">


<%

ArrayList priv1t = new ArrayList();
priv1t= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<priv1t.size();i++){
Profil profi =(Profil)priv1t.get(i);

if (profi.getProf().equals("AJOUTER ORDRE TRANSFERT")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>
       
          <layout:menuItem key="Ordre de transfert" page="/ordretrans.do"></layout:menuItem>  

<%break;}} %>  



          <%

ArrayList priv2t = new ArrayList();
priv2t= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<priv2t.size();i++){
Profil profi =(Profil)priv2t.get(i);

if (profi.getProf().equals("AJOUTER ENVOI TRANSFERT")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>        






 <layout:menuItem key="Envoie transfert" page="/afficher.do"></layout:menuItem> 


<%break;}} %> 



          <%

ArrayList priv3t = new ArrayList();
priv3t= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<priv3t.size();i++){
Profil profi =(Profil)priv3t.get(i);

if (profi.getProf().equals("AJOUTER RECEP TRANSFERT")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>  


 <layout:menuItem key="Reception transfert" page="/afficher1.do" ></layout:menuItem>             
     
<%break;}} %>


</layout:menuItem>
        
     <layout:menuItem key="Sortie">
     
       <%

ArrayList privs = new ArrayList();
privs= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<privs.size();i++){
Profil profi =(Profil)privs.get(i);

if (profi.getProf().equals("AUTO SORTIE")){

%>  
       
         <layout:menuItem key="Autorisation de sortie" page="/autosorti.do?hidden=afficher"></layout:menuItem> 
         
         <layout:menuItem key="List des approbations" page="/autosorti.do?hidden=listaprob"></layout:menuItem> 
         
         listaprob
             <%break;}} %>
             
 <%

ArrayList privs1 = new ArrayList();
privs1= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<privs1.size();i++){
Profil profi =(Profil)privs1.get(i);

if (profi.getProf().equals("SORTIE")){

String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>  
 
 
              
         <layout:menuItem key="Exécution sortie" page="/afficher5.do"></layout:menuItem> 
         
  <%break;}} %>    
                
     </layout:menuItem>
     
       <layout:menuItem key="Reintégration">
      
      
         <%



ArrayList priv1r = new ArrayList();
priv1r= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<priv1r.size();i++){
Profil profi =(Profil)priv1r.get(i);

if (profi.getProf().equals("AJOUTER AUTO REINTEGRATION")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>  
       
         <layout:menuItem key="Autorisation de reintégration" page="/autoreintegr.do"></layout:menuItem> 
         
    <%break;}} %>
    
    
    
    
    <%

ArrayList priv2r = new ArrayList();
priv2r= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<priv2r.size();i++){
Profil profi =(Profil)priv2r.get(i);

if (profi.getProf().equals("AJOUTER REINTEGRATION")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>  
          
         <layout:menuItem key="Exécution reintégration"page="/afficher2.do"></layout:menuItem> 
            
      <%break;}} %>
                   
      </layout:menuItem>
             
  </layout:menuItem>
  
  <layout:menuItem key="Action">
 
 <layout:menuItem key="Activation Postpaid">
      
      <%

ArrayList PRIVI = new ArrayList();
PRIVI= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<PRIVI.size();i++){
Profil profi =(Profil)PRIVI.get(i);

if (profi.getProf().equals("DEMANDE POSTPAID")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>
                              <layout:menuItem key="Demande d'activation">
                                <layout:menuItem key="Pré/Activé" page="/preactivpost.do"></layout:menuItem>
                               <layout:menuItem key="Non/Activé" page="/nonactivpost.do"></layout:menuItem>
                              </layout:menuItem>
    
<%break;}}%>
 
 <%

ArrayList POST = new ArrayList();
POST= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<POST.size();i++){
Profil profi =(Profil)POST.get(i);

if (profi.getProf().equals("CONFIRMATION POSTPAID")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>


                         
                              <layout:menuItem key="Confirmation d'activation" page="/preparConfirm.do">
                              </layout:menuItem>
                              
<%break;}}%>                              
                                
           
  </layout:menuItem>
  
  <layout:menuItem key="Activation Prepaid">
       
<%

ArrayList PRIV2 = new ArrayList();
PRIV2= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<PRIV2.size();i++){
Profil profi =(Profil)PRIV2.get(i);

if (profi.getProf().equals("DEMANDE PREPAID")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>
      
     
                              <layout:menuItem key="Demande d'activation" page="/preparPre.do"> </layout:menuItem>
<%break;}}%>  

<%

ArrayList PRE = new ArrayList();
PRE= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<PRE.size();i++){
Profil profi =(Profil)PRE.get(i);

if (profi.getProf().equals("CONFIRMATION PREPAID")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>                            
                                                   
                             <layout:menuItem key="Confirmation d'activation" page="/confirmPre.do"></layout:menuItem>
                             
<%break;}}%>                              
                  
      </layout:menuItem>
      
    <%

ArrayList RES = new ArrayList();
RES= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<RES.size();i++){
Profil profi =(Profil)RES.get(i);
                         
if (profi.getProf().equals("AJOUTER RESERVATION DIST")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>      
      
     <layout:menuItem key="Réservation" page="/preparReserv.do"> </layout:menuItem>
     <layout:menuItem key="list Réservation" page="/listreserv.do?hidden=listreserv"> </layout:menuItem>
      <layout:menuItem key="état de distribution" page="/listreserv.do?hidden=listreserv2"> </layout:menuItem>
     
     <%break;}}%> 
     
     
     
         <%

ArrayList RES1 = new ArrayList();
RES1= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<RES1.size();i++){
Profil profi =(Profil)RES.get(i);
                         
if (profi.getProf().equals("AJOUTER RESERVATION")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>      
      
     <layout:menuItem key="Réservation" page="/preparReserv.do"> </layout:menuItem>
     <layout:menuItem key="état de distribution" page="/listreserv.do?hidden=listreserv2"> </layout:menuItem>
     
     <%break;}}%> 
     

 
<%

ArrayList aprob = new ArrayList();
aprob= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<aprob.size();i++){
Profil profi =(Profil)aprob.get(i);

if (profi.getProf().equals("APPROBATION")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>     
 
     <layout:menuItem key="Approbation" page="/approbation.do?hidden=recherche">   </layout:menuItem> 
     
     <%break;}}%> 
     
      <layout:menuItem key="Chargement Scratch"> 
      
 <%

ArrayList SCR = new ArrayList();
SCR= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<SCR.size();i++){
Profil profi =(Profil)SCR.get(i);

if (profi.getProf().equals("DEMANDE CHARGEMENT SCRATCH")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%> 
        <layout:menuItem key="Demande de chargement" page="/preparScr.do"> </layout:menuItem>
        
<%break;}}%> 

 <%

ArrayList SCR2 = new ArrayList();
SCR2= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<SCR2.size();i++){
Profil profi =(Profil)SCR2.get(i);

if (profi.getProf().equals("CONFIRMATION CHARGEMENT SCRATCH")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%> 
         <layout:menuItem key="Confirmation de chargement" page="/confirmScr.do"> </layout:menuItem>
         
<%break;}}%>         
      
       </layout:menuItem> 
       
      <layout:menuItem key="Affectation statut">
                   <layout:menuItem key="Affectation Swap">  
                   
<%

ArrayList PRI = new ArrayList();
PRI= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<PRI.size();i++){
Profil profi =(Profil)PRI.get(i);

if (profi.getProf().equals("DEMANDE SWAP POSTPAID")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>         
                    
                     <layout:menuItem key="Demande Swap/Postpaid" page="/preparSwpo.do"> </layout:menuItem>
                    
                     
<%break;}}%> 

<%

ArrayList WPO = new ArrayList();
WPO= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<WPO.size();i++){
Profil profi =(Profil)WPO.get(i);

if (profi.getProf().equals("CONFIRMATION SWAP POSTPAID")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%> 

                  <layout:menuItem key="Confirmation Swap/Postpaid" page="/confirmSwpo.do"> </layout:menuItem>   
                  
<%break;}}%> 

<%

ArrayList WPR = new ArrayList();
WPR= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<WPR.size();i++){
Profil profi =(Profil)WPR.get(i);

if (profi.getProf().equals("DEMANDE SWAP PREPAID")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>                   
                     
                     <layout:menuItem key="Demande Swap/Prepaid" page="/preparSwpr.do"> </layout:menuItem>
                     
<%break;}}%> 

<%

ArrayList WPR2 = new ArrayList();
WPR2= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<WPR2.size();i++){
Profil profi =(Profil)WPR2.get(i);

if (profi.getProf().equals("DEMANDE SWAP PREPAID")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%> 

                     
                     <layout:menuItem key="Confirmation Swap/Prepaid" page="/confirmSwpr.do"> </layout:menuItem>
                     
<%break;}}%>                     
                 
                   </layout:menuItem>
                   
<%

ArrayList PRV = new ArrayList();
PRV= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<PRV.size();i++){
Profil profi =(Profil)PRV.get(i);

if (profi.getProf().equals("AFFECTATION STATUT")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>
                   <layout:menuItem key="Affectation Test" page="/preparTest.do">   </layout:menuItem>
                   <layout:menuItem key="Affectation Perdu" page="/preparPerdu.do">   </layout:menuItem>
                   <layout:menuItem key="Affectation Défecteux" page="/preparDefect.do">   </layout:menuItem>
                   
                   
<%break;}}%>                    
                    
      
     </layout:menuItem>                
    
     

  </layout:menuItem>
  
  <layout:menuItem key="Edition">
                      <layout:menuItem key="Rapport des transactions" page="/recherche.do"></layout:menuItem>
                      <layout:menuItem key="Etat de Stock" page="/preparStk.do"></layout:menuItem>
                      <layout:menuItem key="Bon des transaction" page="/rechedit.do"></layout:menuItem>
                      
   </layout:menuItem>
     
   <layout:menuItem key="Administration">
   
                      <layout:menuItem key="Utilisateur">
                      
    
    
                       <%

ArrayList PRIVA = new ArrayList();
PRIVA= (ArrayList)request.getSession().getAttribute("privilege");
for ( int i=0;i<PRIVA.size();i++){
Profil profi =(Profil)PRIVA.get(i);

if (profi.getProf().equals("AJOUTER UTILISATEUR")){
String whs=profi.getWhs();
request.getSession().setAttribute("werhs",whs);

%>    
                                <layout:menuItem key="Ajouter utilisateur"  page="/preparparametre.do" ></layout:menuItem>
                                <layout:menuItem key="MAJ utilisateur" page="/preparmodif.do"></layout:menuItem>
                   <%break;}}%>
                               
                      </layout:menuItem>
                      
                      
   </layout:menuItem>
  
 </layout:dynMenu> 
 
 <hr>
 
   <layout:space></layout:space>
 
  
     <layout:form action="/confirmActiv.do" method="post">
      <layout:text property="hidden" value="default" mode="H,H,H"></layout:text>
      <layout:text property="hiddenTest" mode="H,H,H"></layout:text>
      
     <layout:row>
      <layout:column> 
      <center>
      <h3>
      CONFIRMATION POSTPAID
      </h3>
       </center>
      </layout:column>
      <layout:column>
       <layout:text property="trans" key="                             " mode="R,R,R">
      </layout:text>
      </layout:column>
      </layout:row>
     
          
      <layout:pager maxPageItems="5">
      
           <layout:collection name="confirmActivForm" property="activation"  styleClass="SCROLL" styleClass="FORM" width="1080" height="180">
            <layout:collectionItem title="ARTICLE" property="article"></layout:collectionItem>
           <layout:collectionItem title="PROFIL" property="profil" sortable="true"></layout:collectionItem>
           <layout:collectionItem title="SERIAL_START" property="start" sortable="true"></layout:collectionItem>
           <layout:collectionItem title="SERIAL_END" property="end" sortable="true"></layout:collectionItem>
           <layout:collectionItem title="HLR" property="hlr" sortable="true"></layout:collectionItem>
           <layout:collectionItem title="ACTIVATION" property="activ" sortable="true"></layout:collectionItem>
           <layout:collectionItem title="PACKAGING" property="pack" sortable="true"></layout:collectionItem>
           <layout:collectionItem title="QTE" property="qute" sortable="true"></layout:collectionItem>         
           <layout:collectionItem title="+" property="ajout" action="/confirmActiv.do?hidden=afficher" paramId="art1,prof1,s_str1,s_end1,qt1" paramProperty="art1,prof1,s_str1,s_end1,qt1">
             <center> <layout:img srcName="add.GIF" border="0"></layout:img> </center>
           </layout:collectionItem>
        </layout:collection>
       
        </layout:pager>
        <layout:space></layout:space>
        
        <layout:row width="800">
         <table border="0">
  
   <tr>
       <td> <layout:select property="article" key="Article:">
       <layout:option value=""></layout:option>
       <layout:options property="nomArticle"></layout:options>
       </layout:select> </td>
       <td> <layout:number property="ND" maxlength="12" key="Start:" onfocus="testArt(document.confirmActivForm);"></layout:number> </td>
       <td> <layout:number property="NF" maxlength="12" key="End:" onfocus="testArt(document.confirmActivForm);"></layout:number> </td>
       <td> <layout:select property="profil" key="Profil:" onfocus="testArt(document.confirmActivForm);">
       <layout:option value=""></layout:option>
       <layout:options property="nomProfil"></layout:options>
       </layout:select> </td>
       
       <td> <layout:button onclick="add(document.confirmActivForm);"> Ajouter </layout:button> </td>
   </tr>
   </table>
   </layout:row>
   <br>
       <layout:row>
               <layout:column>
                <layout:pager maxPageItems="3">
           <layout:collection name="confirmActivForm" property="activation2" styleClass="SCROLL" styleClass="FORM" width="800" height="120">
           <layout:collectionItem title="ARTICLE" property="aa"></layout:collectionItem>
           <layout:collectionItem title="PROFIL" property="pp" sortable="true"></layout:collectionItem>
           <layout:collectionItem title="SERIAL_START" property="st" sortable="true"></layout:collectionItem>
           <layout:collectionItem title="SERIAL_END" property="se" sortable="true"></layout:collectionItem>
           <layout:collectionItem title="QTE" property="qt" sortable="true"></layout:collectionItem>
            <layout:collectionItem title="X" property="retirer" action="/confirmActiv.do?hidden=Retirer" paramId="aaa,ppp,stt,see,qtt" paramProperty="aaa,ppp,stt,see,qtt">
            <center> <layout:img srcName="supp.GIF" border="0"/>  </center>
            </layout:collectionItem>
           </layout:collection>
           </layout:pager>
           </layout:column>
           
       <layout:column>
           <layout:row>  
             <layout:textarea property="not" key="Note :"></layout:textarea>
           </layout:row>
           
         <layout:row>
               <layout:column>
                 <layout:submit onclick="setHidden('valider',document.confirmActivForm)">Valider</layout:submit>   
                </layout:column>        
                      
          
               <layout:column>
               <layout:submit onclick="setHidden('annuler',document.confirmActivForm)">Annuler</layout:submit>
              </layout:column>
          </layout:row>      
          
      </layout:column>
           
            </layout:row>
      </layout:form>
     
  </body>
</html:html>
