<%@ page language="java" pageEncoding="ISO-8859-1"%>

<%@ taglib uri="http://struts.apache.org/tags-bean" prefix="bean" %>
<%@ taglib uri="http://struts.apache.org/tags-html" prefix="html" %>
<%@ taglib uri="http://struts.apache.org/tags-logic" prefix="logic" %>
<%@ taglib uri="http://struts.apache.org/tags-tiles" prefix="tiles" %>
<%@taglib uri="http://struts.application-servers.com/layout" prefix="layout" %>
<%@ page import="java.util.ArrayList" %>
<%@ page import="com.yourcompany.struts.UtilBean.Profil" %>
<%@ page import="com.yourcompany.struts.form.RecepForm"%>
<%@ page import="org.apache.struts.action.ActionForm"%>



<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html:html lang="true">
  <head>
    <html:base />
    
    <title>Reception</title>
 <layout:skin includeScript="true"/>
 
   <script>
   

function cachePrompt() {
document.getElementById('le_prompt').style.display='none';
}
   
function viewListes(){
		features = "width=600,height=600,resizable=0,scrollbars=1,status=1";
		window.open("autosorti.do?hidden=listprob","parametre",features);
		
		 window.onload = function(){
    document.recepForm.ND.onkeydown = function(e){
        var e=window.event || e;
        var touche = e.keyCode;
        if(e.keyCode==13){
            affPrompt1(document.getElementById('le_prompt').value);
        }
        else
        {
        alert("j'ai rentre mais cpas entre");
        }
    }
}

}
</script>	
	<META HTTP-EQUIV="Pragma" CONTENT="no-cache">
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="expires" content="0">    
	<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
	<meta http-equiv="description" content="This is my page">


  </head>
  <body onload="test();">
  

  
<layout:img src="../images/entete2.JPG" width="100%"/>

<jsp:include page="menu.jsp"/>  

 <hr>
 
    <layout:form action="/recep3.do" method="post">
    
      <layout:text property="hidden" value="default" mode="H,H,H"></layout:text>
      <layout:text property="hiddenTest" mode="H,H,H" ></layout:text>
     
      
       <layout:row>
      <layout:column> 
      <center>
      <h3>
     RECEPTION
      </h3>
       </center>
      </layout:column>
      <layout:column>
       <layout:text property="transaction" key="                             " mode="R,R,R">
      </layout:text>
      </layout:column>
    </layout:row>
    
      <layout:panel key="Information fournisseur:" styleClass="FORM" width="600">
      
         
      
          <layout:select property="fournisseur" key="Fournisseur :">
          <layout:option value=""></layout:option>
          <layout:options property="nomFournisseur"></layout:options>
          </layout:select>
         
          <layout:text property="ref" key="N° Ref Ext:" ></layout:text>
          <layout:text property="PO" key="N° PO :"></layout:text>
          <layout:textarea property="note" key="Note de réception:"></layout:textarea>
          <layout:text property="magas" key="Magasin :" mode="R,R,R"></layout:text> 
      </layout:panel>
      
        <layout:space></layout:space>
        
         
      
       <layout:row width="800">
         <table border="0">
  
   <tr>
       <td> <layout:select property="article" key="Article:" onchange="setHidden('combo',document.recepForm);document.recepForm.submit();">
       <layout:option value=""></layout:option>
       <layout:options property="nomArticle"></layout:options>
       </layout:select> </td>
       
       <logic:equal name="recepForm" property="type" value="SCRATCH">
        <td> <layout:number property="ND" maxlength="15" size="15" ondblclick="affPrompt(document.getElementById('ND'),document.getElementById('le_prompt'),document.getElementById('sup'));"  key="Start:" onfocus="testArt(document.recepForm);" ></layout:number> </td>
        <td> <layout:number property="NF" maxlength="15" size="15" ondblclick="affPrompt(document.getElementById('NF'),document.getElementById('le_prompt1'),document.getElementById('sup1'));" key="End:"  onfocus="tester(document.recepForm.ND);"></layout:number> </td>
      </logic:equal>
       
       <logic:notEqual name="recepForm" property="type" value="SCRATCH">
        <td> <layout:number property="ND" maxlength="12" size="15" ondblclick="affPrompt(document.getElementById('ND'),document.getElementById('le_prompt'),document.getElementById('sup'));"  key="Start:" onfocus="testArt(document.recepForm);" ></layout:number> </td>
        <td> <layout:number property="NF" maxlength="12" size="15" ondblclick="affPrompt(document.getElementById('NF'),document.getElementById('le_prompt1'),document.getElementById('sup1'));" key="End:"  onfocus="tester(document.recepForm.ND);" ></layout:number> </td>
      
       </logic:notEqual>
 
        <logic:equal name="recepForm" property="type" value="SIMPOST">
       
       <td> <layout:select property="profil" key="Profil:" disabled="false">
       <layout:option value=""></layout:option>
       <layout:options property="nomProfil"></layout:options>
       </layout:select> </td>
       </logic:equal>
       
        <logic:notEqual name="recepForm" property="type" value="SIMPOST">
        
         <td><layout:select property="profil" key="Profil:" disabled="true">
       <layout:option value=""></layout:option>
       <layout:options property="nomProfil"></layout:options>
       </layout:select> </td>
       </logic:notEqual>
       
       <td> <layout:button onclick="testVid(document.recepForm);"> Ajouter </layout:button> </td>
   </tr>
   <tr>

   <td> <div id="le_prompt" style="display:none;;position:absolute;top:410px;left:300px;">
<input type="text" id="sup"  size="15" name="confirmer start" onclick="comparer(document.getElementById('NF'),document.getElementById('ND'));">
</div></td>

<td> <div id="le_prompt1" style="display:none;;position:absolute;top:410px;left:470px;">
<input type="text" id="sup1" size="15"  name="confirmer start" onclick="comparer1(document.getElementById('NF'));">
</div></td>

   </tr>
   </table>
  
  
   </layout:row>
   
     <layout:space></layout:space>
   
 
    <layout:row>

    <layout:column>
         
       <layout:pager maxPageItems="5">

           <layout:collection name="recepForm" property="recepList" styleClass="SCROLL" styleClass="FORM" width="900" height="190">
           <layout:collectionItem title="ARTICLE" property="article"></layout:collectionItem>
           <layout:collectionItem title="PROFIL" property="profil" sortable="true"></layout:collectionItem>
           <layout:collectionItem title="SERIAL_START" property="ND" sortable="true"></layout:collectionItem>
           <layout:collectionItem title="SERIAL_END" property="NF" sortable="true"></layout:collectionItem>
           <layout:collectionItem title="QTE" property="qte" sortable="true"></layout:collectionItem>
            <layout:collectionItem title="X" property="retirer" action="/recep3.do?hidden=Retirer" paramId="aaa,ppp,stt,see,qtt" paramProperty="aaa,ppp,stt,see,qtt">
            <center> <layout:img srcName="supp.GIF" border="0"/>  </center>
            </layout:collectionItem>
           </layout:collection>

           </layout:pager>
           
           </layout:column>
           
     </layout:row> 
        <layout:row>   
            <layout:column>
    <layout:button onclick="testVide();">Valider</layout:button>
            </layout:column>
            
            <layout:column>
             <layout:submit onclick="setHidden('annuler',document.recepForm)">Annuler</layout:submit>
             </layout:column>
             <layout:column>
             <layout:submit onclick="setHidden('exporter',document.recepForm)">exporter</layout:submit>
            
            </layout:column>
</layout:row> 
   

   </layout:form>
 
   
  </body>
  
</html:html>
